import java.util.Scanner;

public class Ass01_RockPaperScissors {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        boolean playAgain = true;

        while (playAgain) {
            String playerA = getValidMove(scanner, "Player A");
            String playerB = getValidMove(scanner, "Player B");

            System.out.println("\nResult:");
            determineWinner(playerA, playerB);

            // Prompt to play again
            System.out.print("\nPlay again? [Y/N]: ");
            String choice = scanner.nextLine().trim();
            if (!choice.equalsIgnoreCase("Y")) {
                playAgain = false;
                System.out.println("Thanks for playing!");
            }
        }

        scanner.close();
    }

    private static String getValidMove(Scanner scanner, String player) {
        String move;
        while (true) {
            System.out.print(player + " enter move (R, P, S): ");
            move = scanner.nextLine().trim();

            if (move.equalsIgnoreCase("R") || move.equalsIgnoreCase("P") || move.equalsIgnoreCase("S")) {
                return move.toUpperCase(); // normalize to uppercase
            } else {
                System.out.println("Invalid input. Please enter only R, P, or S.");
            }
        }
    }

    private static void determineWinner(String moveA, String moveB) {
        if (moveA.equals(moveB)) {
            System.out.println(moveA + " vs " + moveB + " — It's a Tie!");
            return;
        }

        switch (moveA) {
            case "R":
                if (moveB.equals("S")) {
                    System.out.println("Rock breaks Scissors — Player A wins!");
                } else {
                    System.out.println("Paper covers Rock — Player B wins!");
                }
                break;
            case "P":
                if (moveB.equals("R")) {
                    System.out.println("Paper covers Rock — Player A wins!");
                } else {
                    System.out.println("Scissors cuts Paper — Player B wins!");
                }
                break;
            case "S":
                if (moveB.equals("P")) {
                    System.out.println("Scissors cuts Paper — Player A wins!");
                } else {
                    System.out.println("Rock breaks Scissors — Player B wins!");
                }
                break;
        }
    }
}
